{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Avery\\\\Documents\\\\Per Scholas\\\\mod3\\\\project\\\\client\\\\src\\\\components\\\\Thought.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'localhost:5432/thoughts/';\n\nfunction Thoughts() {\n  _s();\n\n  const [thoughts, setThoughts] = useState(null);\n\n  async function getThoughts() {\n    try {\n      const res = await axios.get(BASE_URL);\n      setThoughts(res.data);\n    } catch (e) {\n      console.error(e, e.message);\n    }\n  }\n\n  useEffect(() => {\n    getThoughts();\n  }, []);\n  const [selectedThought, setSelectedThought] = useState(null);\n\n  function selectThought(thought, e) {\n    e.preventDefault();\n    setSelectedThought(thought);\n  }\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setSelectedThought({ ...selectedThought,\n      [name]: value\n    });\n  }\n\n  async function editThought(e) {\n    e.preventDefault();\n\n    try {\n      const res = await axios.patch(BASE_URL, selectedThought);\n      getThoughts();\n    } catch (e) {\n      console.error(e, e.message);\n    }\n  }\n\n  async function deleteThought(thoughtId, e) {\n    e.preventDefault();\n\n    try {\n      const res = await axios.delete(BASE_URL + thoughtId);\n      getThoughts();\n    } catch (e) {\n      console.error(e, e.message);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [selectedThought && /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"thought-form\",\n      onChange: e => handleChange(e),\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Title:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          defaultValue: selectedThought.thought\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), \"Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"date\",\n          defaultValue: selectedThought.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), \"Mood:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"mood\",\n          defaultValue: selectedThought.mood\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Edit Thought\",\n        className: \"editThought\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }, this), thoughts && thoughts.map(thought => /*#__PURE__*/_jsxDEV(Thought, {\n      thought: thought,\n      selectedThought: selectThought,\n      deleteThought: deleteThought\n    }, thought.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 50\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Thoughts, \"/nH/wuAB5VwplOHO9jXHD/P1o6A=\");\n\n_c = Thoughts;\n\nfunction Thought({\n  thought,\n  deleteThought,\n  selectThought\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: thought.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: thought.date\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: thought.mood\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => selectThought(thought, e),\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => deleteThought(thought.id, e),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, thought.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = Thought;\nexport default Thoughts;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Thoughts\");\n$RefreshReg$(_c2, \"Thought\");","map":{"version":3,"sources":["C:/Users/Avery/Documents/Per Scholas/mod3/project/client/src/components/Thought.js"],"names":["React","useEffect","useState","axios","BASE_URL","Thoughts","thoughts","setThoughts","getThoughts","res","get","data","e","console","error","message","selectedThought","setSelectedThought","selectThought","thought","preventDefault","handleChange","name","value","target","editThought","patch","deleteThought","thoughtId","delete","handleSubmit","date","mood","map","id","Thought","title"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nconst BASE_URL = 'localhost:5432/thoughts/'\r\n\r\n\r\nfunction Thoughts(){\r\n    const [thoughts, setThoughts] = useState(null);\r\n\r\n    async function getThoughts(){\r\n        try {\r\n            const res = await axios.get(BASE_URL)\r\n            setThoughts(res.data)\r\n        } catch(e) {\r\n            console.error(e, e.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getThoughts()\r\n    }, [])\r\n\r\n    const [selectedThought, setSelectedThought] = useState(null)\r\n\r\n    function selectThought(thought, e) {\r\n        e.preventDefault();\r\n        setSelectedThought(thought);\r\n    }\r\n\r\n    function handleChange(e) {\r\n        const { name, value } = e.target;\r\n        setSelectedThought({...selectedThought, [name]: value })\r\n    }\r\n\r\n    async function editThought(e) {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.patch(BASE_URL, selectedThought)\r\n            getThoughts()\r\n        } catch(e) {\r\n            console.error(e, e.message)\r\n        }\r\n    }\r\n\r\n    async function deleteThought(thoughtId, e) {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.delete(BASE_URL + thoughtId)\r\n            getThoughts();\r\n        } catch(e) {\r\n            console.error(e, e.message);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            {selectedThought && <form\r\n                className='thought-form'\r\n                onChange={ (e) => handleChange(e)}\r\n                onSubmit={ (e) => handleSubmit(e)}>\r\n\r\n                <label>\r\n                    Title:\r\n                    <input type='text' name='title' defaultValue = {selectedThought.thought}/>\r\n                    Date:\r\n                    <input type='text' name='date' defaultValue = {selectedThought.date}/>\r\n                    Mood:\r\n                    <input type='text' name='mood' defaultValue = {selectedThought.mood}/>\r\n                </label>\r\n                <input type='submit' value='Edit Thought' className = 'editThought' />        \r\n            </form>\r\n            }\r\n            {thoughts && thoughts.map(thought => <Thought thought={thought} selectedThought = {selectThought} deleteThought = {deleteThought} key= {thought.id}/>)}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Thought({thought, deleteThought, selectThought}){\r\n    return(\r\n        <div key={thought.id}>\r\n            <div>{thought.title}</div>\r\n            <div>{thought.date}</div>\r\n            <div>{thought.mood}</div>\r\n            <button onClick={ (e) => selectThought(thought, e) }>Edit</button>\r\n            <button onClick={ (e) => deleteThought(thought.id, e)}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Thoughts\r\n"]},"metadata":{},"sourceType":"module"}